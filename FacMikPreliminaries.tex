% !TEX root = FacMik.tex
\section{Preliminaries}
\subsubsection*{Trees and contexts.}
Given a finite alphabet $A$, a \emph{tree over $A$} is a partial function $t: \{0,1\}^* \to A$ such that its domain $\dom(t)$ is prefix closed. A node of a tree $t$ is an element $v \in \dom(t)$. A left child of a node $v$ of $t$ is the node $v0$, while its right child is $v1$. A leaf of a tree is a node without children. %A tree is \emph{infinite} if it has infinitely many nodes. 
We denote by $T_A$ the family of all  trees over $A$.
% and by $T_A$ the family of all infinite trees over $A$. 
A set of trees over $A$ is called a tree language, or simply a language.
A \emph{multi-context} over $A$ is a tree $c$ over $A \cup \{\star\}$, where 
\begin{itemize} 
\item $\star \notin A$, and 
\item $\star$ only labels some leaves of $c$. 
\end{itemize}
A leaf of $c$ labelled by $\star$ is called a \emph{port}. Notice that a multi-context may have infinitely many ports. For a multi-context $c$ and a function $\eta$ mapping each port of $c$ to a tree $t$ over $A$, by $c[\eta]$ we denote the tree given by inserting in to every port $x$ a tree $\eta(x)$. When $\eta(x)=t$ for each port $x$, we just write $c[t]$.  We say that a tree $t$ extend a multi-context $c$ if there is a mapping $\eta$ such that $c[\eta]=t$. Given a multi-context $c$ and a language $L$, by $[c]^{-1}L$ we denote the language of trees $t\in L$ extending $c$.
 The class generated by $c$ and all possible mappings $\eta$ is denoted by $c[T_A]$. %, and by $c[T_A]$ we denote the class generated by $c$ and all possible mappings $\eta$ with range contained in $T_A^\infty$. 
A finite multi-context is called a \emph{prefix}.
A multi-context with only one port is called a \emph{context}. %For an alphabet $A$, the class of all contexts over $A$ is denoted by $V_A$.
%% main text
\subsubsection*{Topology.}
For a finite alphabet $A$, we equip the class $T_A$ of all trees over $A$ with the prefix topology. That is the basic open sets are sets of the form $p[T_A]$, for a prefix $p$ over $A$, and thus the open sets are of the form $\bigcup_{p \in P}p[T_A]$ for some set $P$ of prefixes. 

The class of Borel tree languages of $T_A$ is the
closure of the class of open sets of $T_A$ with respect to countable unions and
complementations. Given $T_A$, the initial finite levels of the
Borel hierarchy are defined as follows: % with ${\bf\Sigma}^0_0(T_A)= \{\emptyset\}$ and
% ${\bf\Pi}^0_0(T_A)=\{T_A \}$.
\begin{itemize}
\item ${\bf\Sigma}^0_1(T_A)$ is the class of open subsets of $T_A$, 
\item ${\bf\Pi}^0_n(T_A)$ consists of complements of sets from ${\bf\Sigma}^0_n(T_A)$, 
\item ${\bf\Sigma}^0_{n+1}(T_A)$ consists of countable unions of sets from ${\bf\Pi}^0_n(T_A)$. 
\end{itemize}
A much finer measure of the topological complexity is the \emph{Wadge degree} (see \cite[Chapter 21.E]{kechris}).
If $L \subseteq T_A$ and $M\subseteq T_B$, we say that $L$ is \emph{continuously (or Wadge)
reducible} to $M$, if there exists a continuous function $f: T_A \to T_B$ such that $L=
f^{-1}(M)$. We write $L \leq_W M$ iff $L$ is continuously reducible to $M$.
This ordering is called the {\em Wadge ordering}. If $L \leq_W M$ and $M \leq_W L$, then we write $L
\equiv_W M$. If $L \leq_W M$ but not $M \leq_W L$, then we write $L<_W
M$. The Wadge hierarchy is the partial order induced by $<_W$ on the
equivalence classes given by $\equiv_W$. A language  $L$ is called {\em self dual} if it is equivalent 
to its complement, otherwise it is called {\em non self dual}.

Given a certain family of sets $\mathcal{C}$, we say that $M$ is $\mathcal{C}$-hard if $L
\leq_W M$ for every $L \in \mathcal{C}$. A    $\mathcal{C}$-hard set $L$ is said to be $\mathcal{C}$-complete if 
moreover $L \in \mathcal{C}$.
\subsubsection*{Algebra.}
The Wadge hierarchy of the regular languages of infinite words is well understood thanks to a classification result by K. Wagner (\cite{wagner}). In particular from Wagner's result one can derive an algorithm which decides whether a given regular language of infinite words is a Boolean combination of open sets. Being a Boolean combination of open sets is equivalent to being in ${\bf \Delta^0_2}$ class in the context of regular languages of infinite words. This is not true for the regular languages of infinite trees (see \cite[Section 4.1]{bp} for an analysis of one special case and Proposition \ref{rem:example} in Appendix of the present paper).   A natural algebraic interpration of Wagner's result can be found in \cite[Theorem V.6.2]{pinperrin}. In the case of languages of infinite trees, the algebraic theory is not yet fully developed. As a general reference may serve papers \cite{blumensath,bp,bojtrees,bojidziaszek}. For details of the approach applied in the present paper refer to \cite[Section 3]{bp}. 

As in \cite{bp} family of all trees $T_A$ is divided into finitely many Myhill-Nerode equivalence classes $H_L$. Similarly, there are finitely many equivalence classes $V_L$ of contexts. The same holds for multi-contexts with a fixed number of holes. Starting from an automaton accepting language $L$, one can compute families $H_L$ and $V_L$. The equivalence class of a tree $t$ or a context $v$ is denoted $\alpha_L(t)$, $\alpha_L(v)$, respectively. For a given tree $t$ and contexts $v_1,v_2$ multiplication of contexts and trees $v_1t$, $v_1v_2$ naturally induces multiplication between elements of $H_L$ and $V_L$. Similarly, for a given context $v$ the operation of infinite power $v^\infty = vv\ldots$ induces a mapping from $V_L$ to $H_L$. 

Given a regular language $L$, its \emph{strategy graph} $G_L$ is the pair $(V_L \times H_L, E)$ such that 
$((v,h),(v',h')) \in E$ iff there exists a tree $t$ of type
$h$ such that  $t$ can be decomposed as the concatenation of a context of type $v$ and another tree, and 
each prefix of $t$ can be completed into a context of type $v'$.
We thus say that the strategy graph is \emph{recursive} if there exists a strongly connected component that contains two nodes $(v, h)$ and $(v', h')$ with $h \neq h'$.
For a more formal approach to the strategy graph refer to \cite[Section G]{bp}. We will need the following 
\begin{proposition}[\cite{bp}]
\label{proposition:path to edge}
If there exists a path from $(v,h)$ to $(v',h')$ in $G_L$, then there exists an edge from $(v,h)$ to $(v',h')$.
\end{proposition}
